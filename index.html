<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Andy's Big Top</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="big-top"></div>
    
    <div class="pole pole-left"></div>
    <div class="pole pole-right"></div>

    <div class="elephant">ğŸ˜</div>
    <div class="bear">ğŸ»</div>

    <div class="stars star-1">â­</div>
    <div class="stars star-2">â­</div>
    <div class="stars star-3">â­</div>
    <div class="stars star-4">â­</div>

    <h1>ğŸª ANDY'S BIG TOP ğŸª</h1>

    <div class="container">
        <div class="clown-ascii">
  _______
 /       \
|  o   o |
|    >   |
|  \___/ |
 \_____/
  |||||
  |||||
 /||||||\
  ^^^^^^</div>

        <button id="jokeButton">Click and I'll tell a joke!</button>
    </div>

    <div id="whoopsOverlay" class="whoops-overlay">
        <div class="whoops-message">Whoopsie! Hehe!</div>
        <div id="gorilla" class="gorilla">
            <div class="gorilla-emoji">ğŸ¦</div>
            <div class="gorilla-label">Click me and all will be forgiven.</div>
        </div>
    </div>

    <script>
        function playBoing() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const now = audioContext.currentTime;
            const duration = 0.5;
            
            // Create oscillator for boing pitch
            const osc = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            osc.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            // Boing frequency sweep - starts high, goes low
            osc.frequency.setValueAtTime(800, now);
            osc.frequency.exponentialRampToValueAtTime(200, now + duration);
            
            // Volume envelope
            gainNode.gain.setValueAtTime(0.3, now);
            gainNode.gain.exponentialRampToValueAtTime(0.01, now + duration);
            
            // Play
            osc.start(now);
            osc.stop(now + duration);
        }
        
        document.getElementById('jokeButton').addEventListener('click', function() {
            playBoing();
            const overlay = document.getElementById('whoopsOverlay');
            overlay.classList.add('active');
        });
        
        document.getElementById('gorilla').addEventListener('click', function() {
            // Play text-to-speech with high-pitched British accent
            const utterance = new SpeechSynthesisUtterance("Thank you for the banana, friend.");
            
            // Set British accent (en-GB)
            utterance.lang = 'en-GB';
            utterance.rate = 0.6;  // Slower speech
            utterance.pitch = 2;   // High-pitched
            utterance.volume = 1;
            
            // Get available voices and find a British one
            const voices = window.speechSynthesis.getVoices();
            const britishVoice = voices.find(voice => voice.lang === 'en-GB') || voices.find(voice => voice.lang.startsWith('en'));
            if (britishVoice) {
                utterance.voice = britishVoice;
            }
            
            // Speak and then hide overlay
            window.speechSynthesis.speak(utterance);
            
            // Hide the overlay after speech completes
            utterance.onend = function() {
                const overlay = document.getElementById('whoopsOverlay');
                overlay.classList.remove('active');
            };
        });
    </script>
</body>
</html>
